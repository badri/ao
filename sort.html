<html lang="en">
<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
  <script type="text/javascript" src="jquery-1.2.6.min.js"></script>
  <script type="text/javascript" src="jquery.tinysort.js"></script>
 
 
    <script type="text/javascript" charset="utf-8">
  $(document).ready(function(){
  left = ["50px", "250px", "450px", "650px", "850px"];

  function index_of(arr, ele) {
   for(var i=0; i< arr.length; i++){
      if(arr[i] == ele) return i;
   }
   return -1;
  }
  
  $("div.box").css({"top":"100px","position":"absolute","background-color":"#abc", "width":"100px", "height":"120px", "padding-left":"2px"});
  $("div#h>div").each( function(i){
             this.style.left =  left[i];
   });
 
 
  $("#sort").click(function(){
  var ri = $("div#h>div>div.a").tsort({returns:true,place:"org"}); 
			     
  $.each($("div#h>div"), function(i) {
      $("div#h>div").eq(ri[i]).animate({"left": left[i]}, "slow");
     });
  });

  /* ---------------------------------------------- */  
  $("#sort2").click(function(){
  var ri = $("div#h>div>div.b").tsort({returns:true,place:"org"}); 
   
  $.each($("div#h>div"), function(i) {
      $("div#h>div").eq(ri[i]).animate({"left": left[i]}, "slow");
     });
  });

  /* ---------------------------------------------- */
  $("#blue").click(function(){
        blue_only = function (x) {
		  x=(x=="blue")?1:0;
		  return x;
         }

   var sorted_array = $("div#h>div>div.col").tsort({returns:true,place:"org", process_var:blue_only});
   $.each($("div#h>div"), function(i) {
      $("div#h>div").eq(sorted_array[i]).animate({"left": left[i]}, "slow");
     });
  });

  /* ------demonstrating custom sort method-------- */
  $("#white").click(function(){
   // alert("clicked");
   var sorted_array = $("div#h>div>div.col").tsort({
    returns:true,
    place:"org",
   process_var:   function(x) { 
      x=(x=="white")?1:0;
      return x;
   }
   });

   $.each($("div#h>div"), function(i) {
      $("div#h>div").eq(sorted_array[i]).animate({"left": left[i]}, "slow");
     });
  });

 });
     </script>
</head>
<body>
<div id="h">
<div class="box">
<img src="1.jpg" width="75" height="75" alt="" /> <div class="a">sfjklas</div> <div class="b">xubaatez</div><div class="col">red</div>
</div>
<div class="box">
<img src="2.jpg" width="75" height="75" alt="" /> <div class="a">gkldf</div> <div class="b">hixfeedbuk</div><div class="col">blue</div>
</div>
<div class="box">
<img src="3.jpg" width="75" height="75" alt="" /> <div class="a">terews</div> <div class="b">eispiecees</div><div class="col">red</div>
</div>
<div class="box">
<img src="4.jpg" width="75" height="75" alt="" /> <div class="a">aasdfsdtg</div> <div class="b">anoces</div><div class="col">white</div>
</div>
<div class="box">
<img src="5.jpg" width="75" height="75" alt="" /> <div class="a">hgfsdga</div> <div class="b">jonofnu</div><div class="col">white</div>
</div>
</div>
<br/>
<button id="sort">sort a </button>
<button id="sort2">sort b </button>
<button id="blue">blue</button>
<button id="white">white</button>
</body>
</html>
